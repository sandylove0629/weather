(function(t){function e(e){for(var i,o,s=e[0],c=e[1],l=e[2],h=0,u=[];h<s.length;h++)o=s[h],Object.prototype.hasOwnProperty.call(n,o)&&n[o]&&u.push(n[o][0]),n[o]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(t[i]=c[i]);d&&d(e);while(u.length)u.shift()();return r.push.apply(r,l||[]),a()}function a(){for(var t,e=0;e<r.length;e++){for(var a=r[e],i=!0,s=1;s<a.length;s++){var c=a[s];0!==n[c]&&(i=!1)}i&&(r.splice(e--,1),t=o(o.s=a[0]))}return t}var i={},n={app:0},r=[];function o(e){if(i[e])return i[e].exports;var a=i[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=t,o.c=i,o.d=function(t,e,a){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)o.d(a,i,function(e){return t[e]}.bind(null,i));return a},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=e,s=s.slice();for(var l=0;l<s.length;l++)e(s[l]);var d=c;r.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var i=a("2b0e"),n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},r=[],o=(a("5c0b"),a("2877")),s={},c=Object(o["a"])(s,n,r,!1,null,null,null),l=c.exports,d=a("8c4f"),h=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home"},[a("header",[t._v("Weather forcast")]),a("main",{staticClass:"weather-block"},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}]},[t._v("loading...")]),a("div",{directives:[{name:"show",rawName:"v-show",value:!t.loading,expression:"!loading"}],staticClass:"my-20"},[a("div",{staticClass:"row justify-content-center"},[t.todayWeather.id?a("div",{staticClass:"text-center"},[a("div",{staticClass:"today-weather-day-img"},[a("img",{attrs:{src:t.baseUrl+"static/img/weather/"+t.todayWeather.weather_state_abbr+".svg",alt:t.todayWeather.applicable_date}})]),a("p",[t._v(t._s(t.todayWeather.weather_state_name))])]):t._e()]),a("div",{staticClass:"row"},t._l(t.showWeather,(function(e){return a("weather-day",{key:e.id,attrs:{info:e},on:{setShowModal:t.setShowModal}})})),1)])]),a("footer",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.location,expression:"location"}],staticClass:"search-input",attrs:{placeholder:"e.g. Taipei, Tokyo, London",name:"location",type:"text"},domProps:{value:t.location},on:{input:function(e){e.target.composing||(t.location=e.target.value)}}}),a("button",{staticClass:"search-button",attrs:{disabled:t.loading},on:{click:t.searchLocation}},[t._v(" "+t._s("search")+" ")])])])},u=[],f=(a("4de4"),a("d3b7"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"weather-day-block"},[a("div",{ref:"weather-"+t.info.id,staticClass:"weather-day-cell",on:{click:function(e){t.showModal=!0}}},[a("h4",[t._v(t._s(t.dateFormat(t.info.applicable_date,"YYYY/MM/DD")))]),a("div",{staticClass:"weather-day-img"},[a("img",{attrs:{src:t.baseUrl+"static/img/weather/"+t.info.weather_state_abbr+".svg",alt:t.info.applicable_date}})]),a("p",[t._v(t._s(t.info.weather_state_name))])]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.showModal,expression:"showModal"}],staticClass:"weather-day-modal",on:{"!click":function(e){t.showModal=!1}}},[a("span",{staticClass:"modal-cross"},[t._v("×")]),a("div",{staticClass:"text-center h-100 scroll pb-2"},[a("h4",[t._v(t._s(t.dateFormat(t.info.applicable_date,"YYYY/MM/DD")))]),a("div",{staticClass:"weather-day-modal-img"},[a("img",{attrs:{src:t.baseUrl+"static/img/weather/"+t.info.weather_state_abbr+".svg",alt:t.info.applicable_date}})]),a("p",[t._v(t._s(t.info.weather_state_name))]),a("div",{staticClass:"row justify-content-center align-items-center w-100"},[a("div",{staticClass:"chart-panel"},[a("canvas",{ref:"humidity-"+t.info.id,staticClass:"weather-day-humidity",attrs:{height:"300"}})]),a("div",{staticClass:"chart-panel"},[a("canvas",{ref:"temperature-"+t.info.id,staticClass:"weather-day-temperature",attrs:{height:t.temperatureHeight}})]),a("table",{staticClass:"weather-day-table"},[a("tbody",[a("tr",[t._m(0),a("td",[t._v(t._s(t.info.visibility.toFixed(2))+"miles")])]),a("tr",[t._m(1),a("td",[t._v(t._s(t.info.air_pressure)+"mb")])]),a("tr",[t._m(2),a("td",[t._v(" "+t._s(t.info.wind_speed.toFixed(2))+"mph "),"N"===t.info.wind_direction_compass?a("span",[t._v("↑")]):t._e(),"S"===t.info.wind_direction_compass?a("span",[t._v("↓")]):t._e(),"E"===t.info.wind_direction_compass?a("span",[t._v("→")]):t._e(),"W"===t.info.wind_direction_compass?a("span",[t._v("←")]):t._e(),t.info.wind_direction_compass.indexOf("NE")>-1?a("span",[t._v("↗")]):t._e(),t.info.wind_direction_compass.indexOf("NW")>-1?a("span",[t._v("↖")]):t._e(),t.info.wind_direction_compass.indexOf("SE")>-1?a("span",[t._v("↘")]):t._e(),t.info.wind_direction_compass.indexOf("SW")>-1?a("span",[t._v("↙")]):t._e()])])])])])])])])}),p=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",[a("b",[t._v("Visibility")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",[a("b",[t._v("Pressure")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",[a("b",[t._v("Speed")])])}],m=(a("cb29"),a("b680"),a("5a0c")),w=a.n(m),_={name:"WeatherDay",props:{info:{default:function(){return{}},type:Object}},data:function(){return{temperatureHeight:150,temperatureMutiple:3,showModal:!1}},mounted:function(){this.drawHumidityChart(),this.drawTemperatureChart()},computed:{baseUrl:function(){return"https://www.metaweather.com/"}},methods:{dateFormat:function(t,e){return w()(t).format(e)},drawHumidityChart:function(){var t=this.info,e=t.id,a=t.humidity,i=this.$refs["humidity-".concat(e)],n=i.getContext("2d"),r=-90*Math.PI/180,o=a/100*360/360*Math.PI,s=150,c=150,l=100;n.beginPath(),n.moveTo(s,c),n.arc(s,c,l,0,2*Math.PI),n.fillStyle="#bebdbd",n.fill(),n.beginPath(),n.moveTo(s,c),n.arc(s,c,l,r,o),n.fillStyle="#00697d",n.fill(),n.font="14px Arial";var d="".concat(a,"%"),h="Humidity";n.fillStyle="#fff",n.fillText(d,s+20,c+20),n.fillStyle="#333",n.fillText(h,s-30,30)},drawTemperatureChart:function(){var t=150,e=this.info,a=e.id,i=e.min_temp,n=e.max_temp,r=i/this.temperatureHeight*100*this.temperatureMutiple,o=n/this.temperatureHeight*100*this.temperatureMutiple,s=this.$refs["temperature-".concat(a)],c=s.getContext("2d");c.beginPath(),c.fillStyle="#00697d",c.fillRect(t-50,this.temperatureHeight-r,40,r),c.beginPath(),c.fillStyle="#cc375a",c.fillRect(t+20,this.temperatureHeight-o,40,o),c.font="14px Arial",c.fillStyle="#333";var l="".concat(n.toFixed(0),"°C"),d="".concat(i.toFixed(0),"°C"),h="Temperature";c.fillText(l,t+25,this.temperatureHeight-o-10),c.fillText(d,t-45,this.temperatureHeight-r-10),c.fillText(h,t-30,30)}},watch:{showModal:function(t){this.$emit("setShowModal",t)}}},v=_,b=Object(o["a"])(v,f,p,!1,null,null,null),y=b.exports,g=a("bc3a"),x=a.n(g),C={name:"Home",components:{WeatherDay:y},data:function(){return{location:"Taipei",weatherInfo:{},loading:!1,showModal:!1}},computed:{baseUrl:function(){return"https://www.metaweather.com/"},todayWeather:function(){return this.showWeather[0]||{}},showWeather:function(){return this.weatherInfo.consolidated_weather?this.weatherInfo.consolidated_weather.filter((function(t,e){return e<5})):[]}},created:function(){this.searchLocation()},methods:{setShowModal:function(t){this.showModal=t,document.body.style.overflow=t?"hidden":"inherit"},searchLocation:function(){var t=this;this.loading=!0,x.a.get("https://www.metaweather.com/api/location/search/?query=".concat(this.location.toLowerCase())).then((function(e){e.data.length?t.getWeather(e.data[0]):t.loading=!1})).catch((function(){t.loading=!1}))},getWeather:function(t){var e=this,a=t.woeid;x.a.get("https://www.metaweather.com/api/location/".concat(a)).then((function(t){e.weatherInfo=t.data,e.loading=!1})).catch((function(){e.loading=!1}))}}},M=C,S=Object(o["a"])(M,h,u,!1,null,null,null),O=S.exports;i["a"].use(d["a"]);var P=[{path:"/",name:"Home",component:O}],T=new d["a"]({mode:"history",base:"/",routes:P}),W=T,j=a("2f62");i["a"].use(j["a"]);var H=new j["a"].Store({state:{},mutations:{},actions:{},modules:{}});a("de82");i["a"].config.productionTip=!1,new i["a"]({router:W,store:H,render:function(t){return t(l)}}).$mount("#app")},"5c0b":function(t,e,a){"use strict";a("9c0c")},"9c0c":function(t,e,a){},de82:function(t,e,a){}});
//# sourceMappingURL=app.204b4135.js.map